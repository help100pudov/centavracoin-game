import{m as q}from"./menuNav-2c0c5838.js";import{_ as M,c as a,e as p,a as e,n as k,t as n,i as f,x as w,F as r,r as _,w as b,h as y,o as u,q as v}from"./index-f7d62f39.js";const x={components:{menuNav:q},data(){return{mod:"",cat:null,editKey:null,edit:"",file:"",data:{},type:["Join","Share","Follow","Send","Like","Visit","Connect wallet"],network:{}}},created(){this.loadContent()},methods:{async loadContent(){const s=await this.$post("/panel/tasks");s!=null&&s.quests&&(this.data=s.quests,this.network=s.network)},async uploadFile(s){const t=await this.$post(s,"file");t&&t.file&&(this.network.push(t.file),this.$modal("newMediaModal"));const m=this.$refs.fileInput;m.value=""},editItem(s=null){this.edit=this.data[s]||{},this.$modal("questEdit")},delMedia(s){this.file=s,this.$modal("delMediaModal")},async submitEdit(s){const t=await this.$post(s,"submit");t!=null&&t.quests&&(this.data=t.quests,this.edit={},this.$modal("questEdit"))},async movePoz(s,t){const m=await this.$post("/panel/tasks",{act:"move",quest:s,type:t});m!=null&&m.quests&&(this.data=m.quests)},async deleteItem(s){const t=await this.$post(s,"submit");t!=null&&t.quests&&(this.data=t.quests,this.$modal("questEdit"))},async deleteFile(s){await this.$post(s,"submit"),this.network.splice(this.file,1),this.$modal("delMediaModal")}}},F={class:"pl-3 pr-3"},E={class:"navMenu"},I={class:"d-flex pt-2"},S={class:"pr-3 pl-3 pb-2"},z=["onClick"],g={class:"flexCenter"},B={class:"mr-4"},N=["src"],$={class:"pl-2"},P=["onClick"],D={class:""},T=["src"],V={class:"pl-4"},L={class:"text fs-12px mt-1"},U={class:"d-flex items-center"},J=["onClick"],K=["onClick"],W=["value"],j={class:"w-50 m-auto"},A={type:"submit",class:"btn delete p-2"},G=["value"],H={class:"fw-600"},O={class:"mt-2"},Q=["value"],R={class:"mt-3"},X={class:"fw-600"},Y={class:"mt-2"},Z=["value"],ee={class:"mt-3"},te={class:"fw-600"},se={class:"mt-2"},ie={class:"",name:"net"},le=["selected","value"],ne={class:"mt-3"},oe={class:"fw-600"},de={class:"mt-2"},ae={class:"",name:"type"},ue=["selected","value"],me={class:"mt-3"},ce={class:"fw-600"},re={class:"mt-2"},pe=["value"],_e={class:"mt-3"},ve={class:"fw-600"},he={class:"mt-2"},fe=["value"],we={class:"mt-4"},be={type:"submit",class:"btn claim"},ke={class:"p-2 fs-16px text-center"},ye={class:"form-file text-center mt-3"},Ce=["value"],qe={class:"w-50 m-auto"},Me={type:"submit",class:"btn delete p-2"};function xe(s,t,m,Fe,i,d){const C=y("menuNav"),h=y("Modal");return u(),a(r,null,[p(C),e("div",F,[e("div",E,[e("a",{onClick:t[0]||(t[0]=l=>i.mod=""),class:k(["link",{on:i.mod==""}])},n(s.$t("Tasks")),3),e("a",{onClick:t[1]||(t[1]=l=>i.mod="media"),class:k(["link",{on:i.mod=="media"}])},n(s.$t("Media")),3)]),e("div",I,[i.mod=="media"?(u(),a("button",{key:0,onClick:t[2]||(t[2]=l=>s.$modal("newMediaModal")),class:"btn text-up text-white"},n(s.$t("Create")),1)):(u(),a("button",{key:1,onClick:t[3]||(t[3]=l=>d.editItem()),class:"btn text-up text-white"},n(s.$t("Create")),1))])]),e("div",S,[f(e("div",null,[(u(!0),a(r,null,_(i.network,(l,o)=>(u(),a("div",{class:"card flexBetween p-3 mt-3",key:o,onClick:c=>d.delMedia(o)},[e("div",g,[e("div",B,[e("img",{src:`/media/social/${l}`,class:"icon x44"},null,8,N)]),e("h6",$,n(l),1)])],8,z))),128))],512),[[w,i.mod=="media"]]),f(e("div",null,[(u(!0),a(r,null,_(i.data,(l,o)=>(u(),a("div",{class:"card flexBetween p-3 mt-3",key:o},[e("div",{class:"flexCenter",onClick:c=>d.editItem(o)},[e("div",D,[e("img",{src:`/media/social/${l.net}.webp`,class:"icon x44"},null,8,T)]),e("div",V,[e("h6",null,n(l.type),1),e("div",L,n(l.title),1)])],8,P),e("div",U,[e("a",{onClick:c=>d.movePoz(l.id,"up"),class:"p-1"},[...t[9]||(t[9]=[e("i",{class:"bi bi-arrow-up fs-20px"},null,-1)])],8,J),e("a",{onClick:c=>d.movePoz(l.id,"down"),class:"p-1"},[...t[10]||(t[10]=[e("i",{class:"bi bi-arrow-down fs-20px"},null,-1)])],8,K)])]))),128))],512),[[w,i.mod==""]])]),p(h,{id:"questEdit"},{default:b(()=>{var l;return[f(e("form",{onSubmit:t[4]||(t[4]=v((...o)=>d.deleteItem&&d.deleteItem(...o),["prevent"])),id:"/panel/tasks",class:"p-4 pb-1"},[t[11]||(t[11]=e("input",{type:"hidden",name:"act",value:"delete",required:""},null,-1)),e("input",{type:"hidden",name:"quest",value:i.edit.id,required:""},null,8,W),e("div",j,[e("button",A,n(s.$t("Delete")),1)])],544),[[w,(l=i.edit)==null?void 0:l.id]]),e("form",{onSubmit:t[5]||(t[5]=v((...o)=>d.submitEdit&&d.submitEdit(...o),["prevent"])),id:"/panel/tasks",class:"p-5 pt-3"},[t[12]||(t[12]=e("input",{type:"hidden",name:"act",value:"edit",required:""},null,-1)),e("input",{type:"hidden",name:"quest",value:i.edit.id,required:""},null,8,G),e("div",null,[e("label",H,n(s.$t("Title")),1),e("div",O,[e("input",{type:"text",name:"title",value:i.edit.title},null,8,Q)])]),e("div",R,[e("label",X,n(s.$t("Info")),1),e("div",Y,[e("textarea",{class:"w-100",name:"info",rows:"4",value:i.edit.info},null,8,Z)])]),e("div",ee,[e("label",te,n(s.$t("Network")),1),e("div",se,[e("select",ie,[(u(!0),a(r,null,_(i.network,(o,c)=>(u(),a("option",{key:c,selected:o.split(".")[0]==i.edit.net,value:o.split(".")[0]},n(o.split(".")[0]),9,le))),128))])])]),e("div",ne,[e("label",oe,n(s.$t("Type")),1),e("div",de,[e("select",ae,[(u(!0),a(r,null,_(i.type,(o,c)=>(u(),a("option",{key:c,selected:o==i.edit.type,value:o},n(o),9,ue))),128))])])]),e("div",me,[e("label",ce,n(s.$t("Url")),1),e("div",re,[e("input",{type:"text",class:"",name:"url",value:i.edit.url},null,8,pe)])]),e("div",_e,[e("label",ve,n(s.$t("Prize")),1),e("div",he,[e("input",{type:"number",class:"",name:"prize",value:i.edit.prize,required:""},null,8,fe)])]),e("div",we,[e("button",be,n(s.$t("Save")),1)])],32)]}),_:1}),p(h,{id:"newMediaModal"},{default:b(()=>[e("form",{onSubmit:t[7]||(t[7]=v((...l)=>d.uploadFile&&d.uploadFile(...l),["prevent"])),id:"/upload",class:"p-4 pt-5"},[t[14]||(t[14]=e("input",{type:"hidden",name:"dir",value:"social"},null,-1)),e("div",ke,n(s.$t("Upload an image in WEBP format with a maximum size of 200x200 pixels")),1),e("div",ye,[e("input",{class:"form-file-input",type:"file",name:"file",ref:"fileInput",onChange:t[6]||(t[6]=l=>d.uploadFile(l))},null,544),t[13]||(t[13]=e("label",{type:"submit",class:"form-file-label",for:"customFile"},"Choose file",-1))])],32)]),_:1}),p(h,{id:"delMediaModal"},{default:b(()=>[e("form",{onSubmit:t[8]||(t[8]=v((...l)=>d.deleteFile&&d.deleteFile(...l),["prevent"])),id:"/upload",class:"p-4 pb-1"},[t[15]||(t[15]=e("input",{type:"hidden",name:"act",value:"delete",required:""},null,-1)),t[16]||(t[16]=e("input",{type:"hidden",name:"dir",value:"social"},null,-1)),e("input",{type:"hidden",name:"file",value:i.network[i.file]},null,8,Ce),e("div",qe,[e("button",Me,n(s.$t("Delete file")),1)])],32)]),_:1})],64)}const Se=M(x,[["render",xe]]);export{Se as default};
